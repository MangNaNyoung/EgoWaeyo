<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="egovframework.com.egowaeyo.admin.mapper.AdminUserMapper">
	<!-- select 부서정보 -->
	<select id="getDept" resultType="DeptVO">
		SELECT departments_id, departments_name
		FROM departments
	</select>
	
	<!-- select 직급정보 -->
	<select id="getPos" resultType="PosVO">
		SELECT position_id, position_name
		FROM position
	</select>
	
	<!-- egov orgnzt 정보 (부서) -->
	<select id="getEgovDept" resultType="EgovDeptVO">
    	SELECT orgnzt_id, orgnzt_nm, orgnzt_dc
    	FROM comtnorgnztinfo
	</select>
	
	<!-- insert Admin ->> 사용자 정보 -->
	<insert id="AdminUserIns">
		INSERT INTO comtnemplyrinfo
		            (ESNTL_ID,
		             EMPLYR_ID, 
		             PASSWORD,
		             USER_NM,
		             EMP_PHOTO,
		             SIGN_PHOTO,
		             BRTHDY,
		             HOUSE_ADRES,
		             PHONE_NUMBER,
		             EMAIL_ADRES,
		             SEXDSTN_CODE,
		             DEPARTMENTS_ID,
		             POSITION_ID,
		             ORGNZT_ID,
		             OFCPS_NM,
		             EMPLYR_STTUS_CODE,
		             FXNUM,
		             GROUP_ID,
		             PASSWORD_HINT)
		       
		       VALUES(
		             #{esntlId},
		       		 #{emplyrId},
		       		 #{password},
		       		 #{userNm},
		       		 #{empPhoto},
		       		 #{signPhoto},
		       		 #{brthdy},
		       		 #{houseAdres},
		       		 #{phoneNumber},
		       		 #{emailAdres},
		       		 #{sexdstnCode},
		       		 #{departmentsId},
		       		 #{positionId},
		       		 #{orgnztId},
		       		 (SELECT
		       		  position_name
		       		  FROM position
		       		  WHERE position_id = #{positionId}),
		       		 'P',
		       		 '1566-2059',
		       		 'GROUP_00000000000000',
		       		 'P01'
		       )
	</insert>
</mapper>
